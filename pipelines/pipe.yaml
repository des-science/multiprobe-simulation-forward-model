# datavectors
- name: fiducial_dv
  cmd: esub msfm/apps/run_datavectors.py --simset=fiducial --dir_in=/cluster/scratch/athomsen/CosmoGrid/fiducial --dir_out=/cluster/scratch/athomsen/CosmoGrid/v2/fiducial --mode=jobarray --function=all --n_jobs=1 --tasks="0" --job_name=dv_fid --system=slurm --main_time=24 --main_n_cores=16

- name: perturbations_dv
  cmd: esub msfm/apps/run_datavectors.py --simset=fiducial --dir_in=/cluster/scratch/athomsen/CosmoGrid/fiducial --dir_out=/cluster/scratch/athomsen/CosmoGrid/v2/fiducial --mode=jobarray --function=all --n_jobs=12 --tasks="1>13" --job_name=dv_pert --system=slurm

- name: grid_dv
  cmd: esub msfm/apps/run_datavectors.py --simset=grid --dir_in=/cluster/scratch/athomsen/CosmoGrid/grid --dir_out=/cluster/work/refregier/athomsen/CosmoGrid/DESY3/v2/grid --repo_dir=. --config=configs/config.yaml --mode=jobarray --function=all --n_jobs=2500 --tasks="0>2500" --job_name=dv_grid --system=slurm

# .tfrecord
- name: fiducial_tfr
  dep: fiducial_dv
  cmd: esub msfm/apps/run_fiducial_tfrecords.py --n_files=16 --dir_in=/cluster/scratch/athomsen/CosmoGrid/v2/fiducial --dir_out=/cluster/scratch/athomsen/CosmoGrid/v2/fiducial --mode=jobarray --function=all --n_jobs=16 --tasks="0>16" --job_name=tfr_fid --system=slurm

- name: grid_tfr
  dep: grid_dv
  cmd: esub msfm/apps/run_grid_tfrecords.py --n_files=250 --dir_in=/cluster/work/refregier/athomsen/CosmoGrid/DESY3/v2/grid --dir_out=/cluster/work/refregier/athomsen/CosmoGrid/DESY3/v2 --mode=jobarray --function=main --n_jobs=250 --tasks="0>250" --job_name=tfr_grid --system=slurm
